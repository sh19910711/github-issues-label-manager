(function(){define("app/js/config",[],function(){return requirejs.config({paths:{"app/main":"app/js/main","app/application":"app/js/application","app/common":"app/js/common","app/repository":"app/js/repository","app/repositories":"app/js/repositories","app/page":"app/js/page","app/labels":"app/js/labels","app/label":"app/js/label","com/jquery/jquery.pjax":"com/jquery-pjax/js/jquery.pjax","com/bootstrap/bootstrap":"com/bootstrap/js/bootstrap","com/backbone/backbone-fetch-cache":"com/backbone-fetch-cache/js/backbone.fetch-cache","com/sprintf/sprintf":"com/sprintf/js/sprintf",jquery:"com/jquery/js/jquery",underscore:"com/underscore/js/underscore",backbone:"com/backbone/js/backbone-min"},shim:{"com/jquery/jquery.pjax":{exports:"jQuery.fn.pjax",deps:["jquery"]},"com/bootstrap/bootstrap":{exports:"undefined",deps:["jquery"]},"com/backbone/backbone-fetch-cache":{exports:"undefined",deps:["backbone"]},"com/sprintf/sprintf":{exports:"sprintf"},backbone:{exports:"Backbone",deps:["underscore"]},underscore:{exports:"_"}}}),{}})}).call(this),function(){define("app/common/utils",["underscore","jquery","app/common"],function(e,t,n){var r;return r=function(){function e(){}return e.get_csrf_token=function(){return t("meta[data-csrf-token]").data("csrf-token")},e.get_login_user=function(){return{github_user_id:t("meta[data-login-user-github-user-id]").data("login-user-github-user-id")}},e.get_root=function(){return window},e}()})}.call(this),function(){define("app/common",["./common/utils","com/sprintf/sprintf"],function(e,t){var n;return n=function(){function n(){}return n.Utils=e,n.sprintf=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/label/models/label",["underscore","jquery","backbone","app/common"],function(t,r,i,s){var o,u;return o=function(t){function i(){return this.get_color=e(this.get_color,this),this.set_color=e(this.set_color,this),this.resolve_color_code=e(this.resolve_color_code,this),u=i.__super__.constructor.apply(this,arguments),u}return n(i,t),i.prototype.urlRoot="/api/label",i.prototype.defaults={name:"",color:{r:0,g:0,b:0}},i.prototype.initialize=function(e){var t=this;return this.set("color",this.resolve_color_code(this.get("color"))),this.on("change",function(){return t.set("color",t.resolve_color_code(t.get("color")))}),this.on("sync",function(){}),this},i.prototype.validate=function(){var e;e=this.get("color");if(!e.match(/^[0-9A-Z]{6}$/))return"color must be FFFFFF"},i.prototype.resolve_color_code=function(e){var t,n,i,o,u;o=e;if(typeof e=="string"){e=r.trim(e);if(!e.match(/^#[0-9A-F]{6}$/))if(!e.match(/^[0-9A-F]{6}$/))if(!e.match(/^#[0-9A-F]{3}$/)){if(!e.match(/^[0-9A-F]{3}$/))return"";i=e.match(/([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})/),o={r:parseInt(i[1]+i[1],16),g:parseInt(i[2]+i[2],16),b:parseInt(i[3]+i[3],16)}}else i=e.match(/#([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})/),o={r:parseInt(i[1]+i[1],16),g:parseInt(i[2]+i[2],16),b:parseInt(i[3]+i[3],16)};else i=e.match(/([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/),o={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)};else i=e.match(/#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/),o={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}}return u=s.sprintf("%02X",o.r),n=s.sprintf("%02X",o.g),t=s.sprintf("%02X",o.b),""+u+n+t},i.prototype.set_color=function(e){return this.save({color:e})},i.prototype.get_color=function(){return this.get("color")},i}(i.Model)})}.call(this),function(){define("app/label/models",["./models/label"],function(e){var t;return t=function(){function t(){}return t.Label=e,t}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/label/views/label_view",["underscore","jquery","backbone","app/common"],function(t,r,i,s){var o,u;return o=function(r){function i(){return this.remove_label=e(this.remove_label,this),this.render=e(this.render,this),u=i.__super__.constructor.apply(this,arguments),u}return n(i,r),i.prototype.tagName="tr",i.prototype.events={"click .remove":"remove_label"},i.prototype.initialize=function(){var e=this;return t.bindAll(this,["render"]),this.model.on("destroy",function(){return e.$el.remove()})},i.prototype.render=function(){return this.$el.append('<td style="border-left: 3px solid #'+(this.model.get("color")||"333")+'" class="label-view">'+this.model.get("name")+'</td><td class="text-right"><button class="remove btn btn-xs btn-danger">remove</button></td>'),this},i.prototype.remove_label=function(){return this.model.destroy({data:JSON.stringify({csrf_token:s.Utils.get_csrf_token()}),dataType:"json",success:function(){}})},i}(i.View)})}.call(this),function(){define("app/label/views",["./views/label_view"],function(e){var t;return t=function(){function t(){}return t.LabelView=e,t}()})}.call(this),function(){define("app/label",["./label/models","./label/views"],function(e,t){var n;return n=function(){function n(){}return n.Models=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/labels/collections/labels",["underscore","jquery","backbone","app/common","app/label"],function(t,r,i,s,o){var u,a;return u=function(t){function r(){return this.add_label=e(this.add_label,this),this.url=e(this.url,this),a=r.__super__.constructor.apply(this,arguments),a}return n(r,t),r.prototype.model=o.Models.Label,r.prototype.url=function(){return"/api/labels/"+this.github_user_id+"/"+this.github_repo_name},r.prototype.initialize=function(e,t){return this.github_user_id=t.github_user_id,this.github_repo_name=t.github_repo_name,this},r.prototype.add_label=function(e){var t;return t=this.create({github_user_id:this.github_user_id,github_repo_name:this.github_repo_name,name:e.name,color:e.color,csrf_token:s.Utils.get_csrf_token()}),t.set("id",""+this.github_user_id+"/"+this.github_repo_name+"/"+e.name)},r}(i.Collection),u})}.call(this),function(){define("app/labels/collections",["./collections/labels"],function(e){var t;return t=function(){function t(){}return t.Labels=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/labels/views/labels_view",["underscore","jquery","backbone","app/common","app/label"],function(e,n,r,i,s){var o,u;return o=function(n){function r(){return u=r.__super__.constructor.apply(this,arguments),u}return t(r,n),r.prototype.tagName="table",r.prototype.className="table table-striped table-hover",r.prototype.initialize=function(t){var n=this;return e.bindAll(this,["render"]),this.collection.on("sync",function(e){},this),this.collection.on("add",function(e){if(e instanceof s.Models.Label)return n.add_label_view(e)},this)},r.prototype.add_label_view=function(e){var t;return t=new s.Views.LabelView({model:e}),this.$el.append(t.render().$el)},r.prototype.render=function(){return this.collection.each(this.add_label_view,this),this},r}(r.View)})}.call(this),function(){define("app/labels/views",["./views/labels_view"],function(e){var t;return t=function(){function t(){}return t.LabelsView=e,t}()})}.call(this),function(){define("app/labels",["./labels/collections","./labels/views"],function(e,t){var n;return n=function(){function n(){}return n.Collections=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/page/views/user_repo_view",["underscore","jquery","backbone","app/common","app/labels","com/backbone/backbone-fetch-cache"],function(t,r,i,s,o){var u,a;return u=function(i){function s(){return this.event_add_label=e(this.event_add_label,this),this.event_update_labels=e(this.event_update_labels,this),a=s.__super__.constructor.apply(this,arguments),a}return n(s,i),s.prototype.tagName="div",s.prototype.initialize=function(e){return t.bindAll(this,"render","event_update_labels","event_add_label"),this.labels=new o.Collections.Labels([],e.labels),this.labels_view=new o.Views.LabelsView({collection:this.labels}),this.labels.fetch({cache:!0})},s.prototype.events=function(){return{"click button.update":"event_update_labels","click .add button":"event_add_label"}},s.prototype.render=function(){var e=this;return this.$el.append('<div class="add form-inline"><div class="form-group"><label class="sr-only">New Label</label><input id="new-label-name" type="text" class="form-control" placeholder="New Label Name"></div><button type="submit" class="btn btn-primary">Add</button></div>'),this.$el.append("<hr>"),this.$el.append("<h3>Issues Labels</h3>"),this.$el.append(function(){var t;return t=r('<div class="well"></div>'),t.append(e.labels_view.render().el),t}),this},s.prototype.event_update_labels=function(){return this.labels_view.collection.fetch_new_labels()},s.prototype.event_add_label=function(){var e;return e=r("input#new-label-name").val(),this.labels.add_label({name:e,color:"#FF0000"})},s}(i.View),u})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/repository/models/repository",["underscore","jquery","backbone","app/common"],function(e,n,r,i){var s,o;return s=function(e){function n(){return o=n.__super__.constructor.apply(this,arguments),o}return t(n,e),n.prototype.defaults={full_name:"",id:"",name:""},n.prototype.initialize=function(e){return this},n}(r.Model)})}.call(this),function(){define("app/repository/models",["./models/repository"],function(e){var t;return t=function(){function t(){}return t.Repository=e,t}()})}.call(this),function(){define("app/repository",["./repository/models"],function(e){var t;return t=function(){function t(){}return t.Models=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/repositories/collections/repositories",["underscore","jquery","backbone","app/common","app/repository","com/backbone/backbone-fetch-cache"],function(e,n,r,i,s){var o,u;return o=function(n){function r(){return u=r.__super__.constructor.apply(this,arguments),u}return t(r,n),r.prototype.model=s.Models.Repository,r.prototype.initialize=function(e,t){return this.github_user_id=t.github_user_id,this},r.prototype.fetch_repos=function(){var t;return t=this,this.fetch({cache:!0,type:"get",data:{csrf_token:i.Utils.get_csrf_token()},url:"/api/repos/"+this.github_user_id,dataType:"json"}).done(function(n){return e(n).each(function(e){return t.add(e)}),t.trigger("fetch-end")})},r.prototype.fetch_new_repos=function(){var t;return t=this,this.fetch({type:"put",url:"/api/repos/"+this.github_user_id,data:{csrf_token:i.Utils.get_csrf_token()},dataType:"json"}).done(function(n){return e(n).each(function(e){return t.add(e)}),t.trigger("fetch-end")})},r}(r.Collection)})}.call(this),function(){define("app/repositories/collections",["./collections/repositories"],function(e){var t;return t=function(){function t(){}return t.Repositories=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/repositories/views/repositories_view",["underscore","jquery","backbone","app/common"],function(e,n,r,i){var s,o;return s=function(n){function r(){return o=r.__super__.constructor.apply(this,arguments),o}return t(r,n),r.prototype.tagName="table",r.prototype.className="table table-striped table-left-border table-hover",r.prototype.initialize=function(t){return e.bindAll(this,["render"]),this.collection.on("fetch-end",function(){return this.render()},this),this.collection.fetch_repos(),this},r.prototype.render=function(){return this.$el.empty(),this.collection.each(function(e){return this.$el.append('<tr data-repo-id="'+e.get("id")+'"><td>'+("<a class='pjaxable' href=\"/repos/"+e.get("full_name")+'">')+(""+e.get("name"))+"</a></></tr>")},this),this},r}(r.View)})}.call(this),function(){define("app/repositories/views",["./views/repositories_view"],function(e){var t;return t=function(){function t(){}return t.RepositoriesView=e,t}()})}.call(this),function(){define("app/repositories",["./repositories/collections","./repositories/views"],function(e,t){var n;return n=function(){function n(){}return n.Collections=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/page/views/user_repos_view",["underscore","jquery","backbone","app/common","app/repositories"],function(t,r,i,s,o){var u,a;return u=function(i){function s(){return this.render=e(this.render,this),this.update_user_repos=e(this.update_user_repos,this),a=s.__super__.constructor.apply(this,arguments),a}return n(s,i),s.prototype.tagName="div",s.prototype.events={"click button#update_user_repos":"update_user_repos"},s.prototype.initialize=function(e){return t.bindAll(this,"render"),this.repositories=new o.Collections.Repositories([],e.repositories),this.repositories_view=new o.Views.RepositoriesView({collection:this.repositories})},s.prototype.update_user_repos=function(){return this.repositories.fetch_new_repos()},s.prototype.render=function(){var e=this;return this.$el.append("<button id='update_user_repos' class='btn btn-primary'>Update Repositories</button>"),this.$el.append("<hr>"),this.$el.append(function(){var t;return t=r('<div class="well"></div>'),t.append(e.repositories_view.render().el),t}),this},s}(i.View),u})}.call(this),function(){define("app/page/views",["./views/user_repo_view","./views/user_repos_view"],function(e,t){var n;return n=function(){function n(){}return n.UserRepoView=e,n.UserReposView=t,n}()})}.call(this),function(){define("app/page",["./page/views"],function(e){var t;return t=function(){function t(){}return t.Views=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/application/routers/application_router",["underscore","jquery","backbone","app/common","app/page","com/jquery/jquery.pjax"],function(e,n,r,i,s){var o,u;return o=function(e){function r(){return u=r.__super__.constructor.apply(this,arguments),u}return t(r,e),r.prototype.initialize=function(e){var t=this;return this.page_view=void 0,this.container_id="#container_id",this.side_id="#side_id",n(document).on("click","a.pjaxable",function(e){return t.navigate(n(e.target).attr("href"),!0),!1})},r.prototype.routes={"":"show_index",about:"show_about",version:"show_version",repos:"show_repos","repos/:github_user_id/:github_repo_name":"show_repo",user_status:"show_user_status","MIT-LICENSE.:suffix":"show_mit_license"},r.prototype.show_index=function(){return this.load_contents("/")},r.prototype.show_about=function(){return this.load_contents("/about")},r.prototype.show_version=function(){return this.load_contents("/version")},r.prototype.show_user_status=function(){return this.load_contents("/user_status")},r.prototype.show_mit_license=function(e){return this.load_contents("/MIT-LICENSE."+e)},r.prototype.show_repos=function(){return this.page_view=new s.Views.UserReposView({repositories:{github_user_id:i.Utils.get_login_user().github_user_id}}),this.load_contents("/repos")},r.prototype.show_repo=function(e,t){return this.page_view=new s.Views.UserRepoView({labels:{github_user_id:e,github_repo_name:t}}),this.load_contents("/repos/"+e+"/"+t)},r.prototype.load_contents=function(e){var t=this;return n.pjax({url:e,container:"#container"}).always(function(){if(t.page_view!=null)return n("#page-view").append(t.page_view.el),t.page_view.render()})},r}(r.Router)})}.call(this),function(){define("app/application/routers",["./routers/application_router"],function(e){var t;return t=function(){function t(){}return t.ApplicationRouter=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/application/views/application_view",["underscore","jquery","backbone","app/common"],function(e,n,r,i){var s,o;return s=function(r){function i(){return o=i.__super__.constructor.apply(this,arguments),o}return t(i,r),i.prototype.el="#application-view",i.prototype.initialize=function(){return e.bindAll(this,"render")},i.prototype.render=function(){return n(this.el).removeClass("view").addClass("view"),n(this.el).removeClass("application-view").addClass("application-view"),this},i}(r.View)})}.call(this),function(){define("app/application/views",["./views/application_view"],function(e){var t;return t=function(){function t(){}return t.ApplicationView=e,t}()})}.call(this),function(){define("app/application",["./application/routers","./application/views"],function(e,t){var n;return n=function(){function n(){}return n.Routers=e,n.Views=t,n}()})}.call(this),function(){requirejs.config({baseUrl:"/lib"}),requirejs(["app/js/config"],function(){return requirejs(["jquery","com/bootstrap/bootstrap","app/common","app/application"],function(e,t,n,r){return e(function(){var e;return e={router:new r.Routers.ApplicationRouter},Backbone.fetchCache.getCacheKey=function(e,t){var n;return n=e.constructor.name,e.github_user_id!=null&&(n+=":"+e.github_user_id),e.github_repo_name!=null&&(n+=":"+e.github_repo_name),n},Backbone.history.start({pushState:!0})})})})}.call(this),define("app/main",function(){});