(function(){define("app/js/config",[],function(){return requirejs.config({paths:{"app/main":"app/js/main","app/application":"app/js/application","app/common":"app/js/common","app/repository":"app/js/repository","app/repositories":"app/js/repositories","app/mock":"app/js/mock","app/page":"app/js/page","app/labels":"app/js/labels","app/label":"app/js/label","app/label_category":"app/js/label_category","com/jquery/jquery.pjax":"com/jquery-pjax/js/jquery.pjax","com/bootstrap/bootstrap":"com/bootstrap/js/bootstrap","com/backbone/backbone-fetch-cache":"com/backbone-fetch-cache/js/backbone.fetch-cache","com/backbone/backbone-localstorage":"com/backbone.localStorage/js/backbone.localStorage","com/sprintf/sprintf":"com/sprintf/js/sprintf",jquery:"com/jquery/js/jquery",underscore:"com/underscore/js/underscore",backbone:"com/backbone/js/backbone-min"},shim:{"com/jquery/jquery.pjax":{exports:"jQuery.fn.pjax",deps:["jquery"]},"com/bootstrap/bootstrap":{exports:"undefined",deps:["jquery"]},"com/backbone/backbone-fetch-cache":{exports:"undefined",deps:["backbone"]},"com/backbone/backbone-localstorage":{exports:"undefined",deps:["backbone"]},"com/sprintf/sprintf":{exports:"sprintf"},backbone:{exports:"Backbone",deps:["underscore","jquery"]},underscore:{exports:"_"}}}),{}})}).call(this),function(){define("app/common/utils",["underscore","jquery","app/common"],function(e,t,n){var r;return r=function(){function n(){}return n.get_csrf_token=function(){return t("meta[data-csrf-token]").data("csrf-token")},n.get_login_user=function(){return{github_user_id:t("meta[data-login-user-github-user-id]").data("login-user-github-user-id")}},n.get_root=function(){return window},n.get_server_version=function(){return t("meta[data-server-version]").data("server-version")},n.compare_version=function(t,n){var r,i,s,o,u,a;return r=t.split(".").map(function(e){return parseInt(e,10)}),i=n.split(".").map(function(e){return parseInt(e,10)}),s=Math.min(r.length,i.length),e(function(){a=[];for(var e=0,t=s-1;0<=t?e<=t:e>=t;0<=t?e++:e--)a.push(e);return a}.apply(this)).some(function(e){return r[e]<i[e]})},n}()})}.call(this),function(){define("app/common",["./common/utils","com/sprintf/sprintf"],function(e,t){var n;return n=function(){function n(){}return n.Utils=e,n.sprintf=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/label/models/label",["underscore","jquery","backbone","app/common"],function(t,r,i,s){var o,u;return o=function(i){function o(){return this.get_color=e(this.get_color,this),this.set_color=e(this.set_color,this),this.resolve_color_code=e(this.resolve_color_code,this),u=o.__super__.constructor.apply(this,arguments),u}return n(o,i),o.prototype.urlRoot=function(){return"/api/label"},o.prototype.defaults=function(){return{name:"",color:"#333333"}},o.prototype.toJSON=function(){var e=this;return t(t(this.attributes).keys()).reject(function(e){return e==="label_category"}).reduce(function(t,n){return t[n]=e.get(n),t},{})},o.prototype.initialize=function(e){var t=this;return this.set("color",this.resolve_color_code(this.get("color"))),this.on("change",function(){return t.set("color",t.resolve_color_code(t.get("color")))}),this.on("sync",function(){}),this},o.prototype.validate=function(){var e;e=this.get("color");if(!e.match(/^[0-9A-Z]{6}$/))return"color must be FFFFFF"},o.prototype.resolve_color_code=function(e){var t,n,i,o,u;o=e;if(typeof e=="string"){e=r.trim(e),e=e.toUpperCase();if(!e.match(/^#[0-9A-F]{6}$/))if(!e.match(/^[0-9A-F]{6}$/))if(!e.match(/^#[0-9A-F]{3}$/)){if(!e.match(/^[0-9A-F]{3}$/))return"";i=e.match(/([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})/),o={r:parseInt(i[1]+i[1],16),g:parseInt(i[2]+i[2],16),b:parseInt(i[3]+i[3],16)}}else i=e.match(/#([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})/),o={r:parseInt(i[1]+i[1],16),g:parseInt(i[2]+i[2],16),b:parseInt(i[3]+i[3],16)};else i=e.match(/([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/),o={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)};else i=e.match(/#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/),o={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}}return u=s.sprintf("%02X",o.r),n=s.sprintf("%02X",o.g),t=s.sprintf("%02X",o.b),""+u+n+t},o.prototype.set_color=function(e){return this.save({color:e})},o.prototype.get_color=function(){return this.get("color")},o}(i.Model)})}.call(this),function(){define("app/label/models",["./models/label"],function(e){var t;return t=function(){function t(){}return t.Label=e,t}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/label/views/label_view",["underscore","jquery","backbone","app/common"],function(t,r,i,s){var o,u;return o=function(r){function i(){return this.event_edit_cancel=e(this.event_edit_cancel,this),this.event_edit=e(this.event_edit,this),this.event_remove=e(this.event_remove,this),this.render_edit_view=e(this.render_edit_view,this),this.render_normal_view=e(this.render_normal_view,this),this.render=e(this.render,this),u=i.__super__.constructor.apply(this,arguments),u}return n(i,r),i.prototype.tagName="div",i.prototype.className="label-view",i.prototype.events={"click .remove":"event_remove","click .edit":"event_edit","click .edit-save":"event_edit_save","click .edit-cancel":"event_edit_cancel"},i.prototype.initialize=function(e){var n=this;return t.bindAll(this,["render"]),this.model.on("destroy",function(){return n.$el.remove()})},i.prototype.render=function(){var e=this;return this.$el.css("border-left","3px solid #"+(this.model.get("color")||"333")),this.$el.append(function(){return'<div class="name" style="" class="label-view"></div><div class="controllers"></div><div class=\'clearfix\'></div>'}),this.render_normal_view(),this.$el.attr("data-label-cid",this.model.cid),this},i.prototype.render_normal_view=function(){var e,t=this;return e=this.model.get("name").match(/([^\/]*)$/)[1],this.$el.find(".name").empty().append(function(){return""+e}),this.$el.find(".controllers").empty().append(function(){return'<button class="edit btn btn-xs btn-warning">edit</button> <button class="remove btn btn-xs btn-danger">remove</button>'})},i.prototype.render_edit_view=function(){var e=this;return this.$el.find(".name").empty().append("<input type='text' value='"+this.model.get("name")+"'>"),this.$el.find(".controllers").empty().append(function(){return"<button class='edit-save btn btn-xs btn-primary'>save</button> <button class='edit-cancel btn btn-xs'>cancel</button>"})},i.prototype.event_remove=function(){return this.model.destroy({data:JSON.stringify({csrf_token:s.Utils.get_csrf_token()}),dataType:"json",success:function(){}})},i.prototype.event_edit=function(){return this.render_edit_view()},i.prototype.event_edit_cancel=function(){return this.render_normal_view()},i.prototype.event_edit_save=function(){var e=this;return this.model.save({name:this.$el.find(".name input").val()},{data:JSON.stringify({csrf_token:s.Utils.get_csrf_token(),name:this.$el.find(".name input").val()}),dataType:"json",success:function(){return e.render_normal_view()}})},i}(i.View)})}.call(this),function(){define("app/label/views",["./views/label_view"],function(e){var t;return t=function(){function t(){}return t.LabelView=e,t}()})}.call(this),function(){define("app/label",["./label/models","./label/views"],function(e,t){var n;return n=function(){function n(){}return n.Models=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/labels/collections/labels",["underscore","jquery","backbone","app/common","app/label"],function(t,r,i,s,o){var u,a;return u=function(t){function r(){return this.add_label=e(this.add_label,this),a=r.__super__.constructor.apply(this,arguments),a}return n(r,t),r.prototype.model=o.Models.Label,r.prototype.url=function(){return"/api/labels/"+this.github_user_id+"/"+this.github_repo_name},r.prototype.initialize=function(e,t){return this.github_user_id=t.github_user_id,this.github_repo_name=t.github_repo_name,this},r.prototype.add_label=function(e){var t;return t=this.create({github_user_id:this.github_user_id,github_repo_name:this.github_repo_name,name:e.name,color:e.color,csrf_token:s.Utils.get_csrf_token()})},r}(i.Collection),u})}.call(this),function(){define("app/labels/collections",["./collections/labels"],function(e){var t;return t=function(){function t(){}return t.Labels=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/labels/views/labels_view",["underscore","jquery","backbone","app/common","app/label"],function(e,n,r,i,s){var o,u;return o=function(r){function i(){return u=i.__super__.constructor.apply(this,arguments),u}return t(i,r),i.prototype.tagName="table",i.prototype.className="table table-striped table-hover",i.prototype.initialize=function(t){var r=this;return e.bindAll(this,["render"]),this.collection.on("sync",function(e){e instanceof r.collection.constructor&&e.each(function(e){return n('[data-label-cid="'+e.cid+'"]').removeClass("syncing")});if(e instanceof r.collection.model)return r.add_label_view(e),n('[data-label-cid="'+e.cid+'"]').removeClass("syncing")},this),this.collection.on("add",function(e){return r.add_label_view(e),n('[data-label-cid="'+e.cid+'"]').addClass("syncing")},this)},i.prototype.has_label_view=function(e){return e.cid&&this.$el.find('[data-label-cid="'+e.cid+'"]').length?!0:!1},i.prototype.find_label_view=function(e){var t;if(e.cid!=null){t=this.$el.find('[data-label-cid="'+e.cid+'"]');if(t.length)return t}return!1},i.prototype.add_label_view=function(e){var t;if(!this.has_label_view(e))return t=new s.Views.LabelView({model:e}),this.$el.append(t.render().$el)},i.prototype.render=function(){return this.collection.each(this.add_label_view,this),this},i}(r.View)})}.call(this),function(){define("app/labels/views",["./views/labels_view"],function(e){var t;return t=function(){function t(){}return t.LabelsView=e,t}()})}.call(this),function(){define("app/labels",["./labels/collections","./labels/views"],function(e,t){var n;return n=function(){function n(){}return n.Collections=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/label_category/models/label_category",["underscore","jquery","backbone","app/common","app/label"],function(t,r,i,s,o){var u,a;return u=function(r){function i(){return this.parse_labels_recursive_func=e(this.parse_labels_recursive_func,this),a=i.__super__.constructor.apply(this,arguments),a}return n(i,r),i.prototype.defaults=function(){return{name:"",childrens:{},label:void 0,parent:void 0}},i.prototype.toJSON=function(){return{name:this.get("name")}},i.prototype.initialize=function(){},i.prototype.parse_labels=function(e){var t=this;return e.each(function(e){return t.parse_labels_recursive_func(e.get("name"),e)}),this.trigger("parsed")},i.prototype.parse_labels_recursive_func=function(e,n){var r,s,o,u,a=this;return o=this.get("childrens"),r=/\//.test(e)?e.match(/([^\/]*)\//)[1]:e,u=e.substring(r.length+1),t(o).has(r)||(s=new i({name:r,childrens:{},parent:this}),s.on("destroy",function(){delete o[r];if(!t(o).keys().length&&!a.get("label"))return a.destroy()}),o[r]=s,this.set("childrens",o)),/\//.test(e)?o[r].parse_labels_recursive_func.call(o[r],u,n):(o[r].set("label",n),n.on("change",function(e){var t;return t=a.root(),a.destroy(),t.parse_labels_recursive_func(e.get("name"),e)}),n.on("remove",function(){if(o[r]!=null)return o[r].destroy()}),null)},i.prototype.set_label=function(e){var n=this;return this.set("label",e),e.on("destroy",function(){var e;return e=n.get("childrens"),t(e).keys().length||n.destroy(),n.set("label",void 0)})},i.prototype.children=function(e){return this.get("childrens")[e]},i.prototype.parent=function(){return this.get("parent")},i.prototype.root=function(){var e;e=this;while(e.parent())e=e.parent();return e},i.prototype.get_label_text=function(){var e,t;t=[],e=this;while(e.parent())t.push(e.get("name")),e=e.parent();return t.reverse().join("/")},i}(i.Model)})}.call(this),function(){define("app/label_category/models",["./models/label_category"],function(e){var t;return t=function(){function t(){}return t.LabelCategory=e,t}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/label_category/views/label_category_view",["underscore","jquery","backbone","app/common","app/label"],function(t,r,i,s,o){var u,a;return u=function(i){function s(){return this.render=e(this.render,this),this.build_dom=e(this.build_dom,this),a=s.__super__.constructor.apply(this,arguments),a}return n(s,i),s.prototype.tagName="div",s.prototype.className="label-category-view",s.prototype.initialize=function(){var e=this;return this.model.on("parsed",function(){return e.build_dom(),e.$el.children(".category").remove()}),this.model.on("destroy",function(){return e.$el.remove()})},s.prototype.has_cid=function(e){return!!this.$el.find('[data-label-category-cid="'+e+'"]').length},s.prototype.build_dom=function(){var e,n,i=this;e=this.model.get("childrens");if(t(e).keys().length)return n=this.$el.children(".childrens"),this.$el.children(".childrens").length||(n=r("<div class='childrens'></div>"),this.$el.append(n)),n.empty(),t(e).each(function(e){var t,r,o;return r=e.get("label"),i.has_cid(e.cid)||(o=new s({model:e}),t=o.render().$el,n.append(t),t.data("view",o)),o=i.$el.find('[data-label-category-cid="'+e.cid+'"]').data("view"),o.build_dom()})},s.prototype.render=function(){var e,t;return this.$el.attr("data-label-category-cid",this.model.cid),this.model.get("label")?(e=this.model.get("label"),this.$el.find('[data-label-cid="'+e.cid+'"]').length||(t=new o.Views.LabelView({model:e}),this.$el.append(t.render().el))):this.$el.append("<div class='category'>"+("<div class='name'>"+this.model.get("name")+"</div>")+("<div class='controllers'>"+this.render_controllers()+"</div>")+"<div class='clearfix'></div>"+"</div>"),this},s.prototype.render_controllers=function(){return"<button class='btn btn-xs btn-warning disabled'>edit</button> <button class='btn btn-xs btn-danger disabled'>remove</button>"},s}(i.View)})}.call(this),function(){define("app/label_category/views",["./views/label_category_view"],function(e){var t;return t=function(){function t(){}return t.LabelCategoryView=e,t}()})}.call(this),function(){define("app/label_category",["./label_category/models","./label_category/views"],function(e,t){var n;return n=function(){function n(){}return n.Models=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/page/views/user_repo_view",["underscore","jquery","backbone","app/common","app/labels","app/label_category","com/backbone/backbone-fetch-cache"],function(t,r,i,s,o,u){var a,f;return a=function(i){function s(){return this.event_add_label=e(this.event_add_label,this),this.event_update_labels=e(this.event_update_labels,this),f=s.__super__.constructor.apply(this,arguments),f}return n(s,i),s.prototype.tagName="div",s.prototype.initialize=function(e){var n=this;return t.bindAll(this,"render","event_update_labels","event_add_label"),this.labels=new o.Collections.Labels([],e.labels),this.label_category=new u.Models.LabelCategory({name:"root",childrens:{},flag_leaf:!1}),this.label_category_view=new u.Views.LabelCategoryView({model:this.label_category}),this.labels.on("sync",function(){return n.label_category.parse_labels(n.labels)}),this.labels.fetch({cache:!0})},s.prototype.events=function(){return{"click button.update":"event_update_labels","click .add button":"event_add_label"}},s.prototype.render=function(){var e=this;return this.$el.append('<div class="add form-inline"><div class="form-group"><label class="sr-only">New Label</label><input id="new-label-name" type="text" class="form-control" placeholder="New Label Name"></div><button type="submit" class="btn btn-primary">Add</button></div>'),this.$el.append("<hr>"),this.$el.append("<h3>Issues Labels</h3>"),this.$el.append(function(){var t;return t=r('<div class="well"></div>'),t.append(e.label_category_view.el),t}),this},s.prototype.event_update_labels=function(){return this.labels_view.collection.fetch_new_labels()},s.prototype.event_add_label=function(){var e;return e=r("input#new-label-name").val(),this.labels.add_label({name:e,color:"#FF0000"})},s}(i.View),a})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/repository/models/repository",["underscore","jquery","backbone","app/common"],function(e,n,r,i){var s,o;return s=function(e){function n(){return o=n.__super__.constructor.apply(this,arguments),o}return t(n,e),n.prototype.defaults=function(){return{full_name:"",id:"",name:""}},n.prototype.initialize=function(e){return this},n}(r.Model)})}.call(this),function(){define("app/repository/models",["./models/repository"],function(e){var t;return t=function(){function t(){}return t.Repository=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/repository/views/repository_view",["underscore","jquery","backbone","app/common"],function(e,n,r,i){var s,o;return s=function(n){function r(){return o=r.__super__.constructor.apply(this,arguments),o}return t(r,n),r.prototype.tagName="tr",r.prototype.initialize=function(t){return e.bindAll(this,"render")},r.prototype.render=function(){var e=this;return this.$el.append(function(){var t,n;return n=e.model.get("name"),t=e.model.get("full_name"),"<td><a data-repo-id='"+e.model.id+"' class='pjaxable' href='/repos/"+t+"'>"+n+"</a></td>"}),this},r}(r.View)})}.call(this),function(){define("app/repository/views",["./views/repository_view"],function(e){var t;return t=function(){function t(){}return t.RepositoryView=e,t}()})}.call(this),function(){define("app/repository",["./repository/models","./repository/views"],function(e,t){var n;return n=function(){function n(){}return n.Models=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/repositories/collections/repositories",["underscore","jquery","backbone","app/common","app/repository","com/backbone/backbone-fetch-cache"],function(t,r,i,s,o){var u,a;return u=function(t){function r(){return this.url=e(this.url,this),a=r.__super__.constructor.apply(this,arguments),a}return n(r,t),r.prototype.model=o.Models.Repository,r.prototype.url=function(){return"/api/repos/"+this.github_user_id},r.prototype.initialize=function(e,t){return this.github_user_id=t.github_user_id,this},r}(i.Collection)})}.call(this),function(){define("app/repositories/collections",["./collections/repositories"],function(e){var t;return t=function(){function t(){}return t.Repositories=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/repositories/views/repositories_view",["underscore","jquery","backbone","app/common","app/repository"],function(e,n,r,i,s){var o,u;return o=function(n){function r(){return u=r.__super__.constructor.apply(this,arguments),u}return t(r,n),r.prototype.tagName="table",r.prototype.className="table table-striped table-left-border table-hover",r.prototype.initialize=function(t){var n=this;return e.bindAll(this,["render"]),this.collection.on("sync",function(){return n.render()}),this.collection.fetch({cache:!0,data:{csrf_token:i.Utils.get_csrf_token()}}),this},r.prototype.render=function(){var e=this;return this.collection.each(function(t){if(!e.$el.find("#"+t.id).length)return e.$el.append(function(){var e;return e=new s.Views.RepositoryView({model:t}),e.render().el})}),this},r}(r.View)})}.call(this),function(){define("app/repositories/views",["./views/repositories_view"],function(e){var t;return t=function(){function t(){}return t.RepositoriesView=e,t}()})}.call(this),function(){define("app/repositories",["./repositories/collections","./repositories/views"],function(e,t){var n;return n=function(){function n(){}return n.Collections=e,n.Views=t,n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("app/page/views/user_repos_view",["underscore","jquery","backbone","app/common","app/repositories"],function(t,r,i,s,o){var u,a;return u=function(i){function s(){return this.render=e(this.render,this),this.update_user_repos=e(this.update_user_repos,this),a=s.__super__.constructor.apply(this,arguments),a}return n(s,i),s.prototype.tagName="div",s.prototype.events={"click button#update_user_repos":"update_user_repos"},s.prototype.initialize=function(e){return t.bindAll(this,"render"),this.repositories=new o.Collections.Repositories([],e.repositories),this.repositories_view=new o.Views.RepositoriesView({collection:this.repositories})},s.prototype.update_user_repos=function(){return this.repositories.fetch},s.prototype.render=function(){var e=this;return this.$el.append("<button id='update_user_repos' class='btn btn-primary'>Update Repositories</button>"),this.$el.append("<hr>"),this.$el.append(function(){var t;return t=r('<div class="well"></div>'),t.append(e.repositories_view.el),t}),this},s}(i.View),u})}.call(this),function(){define("app/page/views",["./views/user_repo_view","./views/user_repos_view"],function(e,t){var n;return n=function(){function n(){}return n.UserRepoView=e,n.UserReposView=t,n}()})}.call(this),function(){define("app/page",["./page/views"],function(e){var t;return t=function(){function t(){}return t.Views=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/mock",["underscore","jquery","backbone","app/label","app/labels","app/common","com/backbone/backbone-localstorage"],function(e,n,r,i,s,o){var u;return u=function(){function u(){}return u.init=function(u){var a,f,l,c,h,p,d;return h=o.Utils.get_server_version(),l=localStorage.getItem("mock-version"),a=function(e){function n(){return p=n.__super__.constructor.apply(this,arguments),p}return t(n,e),n}(i.Models.Label),f=function(e){function n(){return d=n.__super__.constructor.apply(this,arguments),d}return t(n,e),n}(s.Collections.Labels),e(a.prototype).extend({toJSON:function(){return{id:this.attributes.id,name:this.attributes.name,color:this.attributes.color}},urlRoot:function(){return"/mock/api/label"}}),e(f.prototype).extend({model:a,url:function(){return"/mock/api/labels/"+this.github_user_id+"/"+this.github_repo_name},localStorage:new r.LocalStorage("mock/labels")}),u.$el.prepend("<p class='text-danger'>This is an application demo page. All data are saved only on local.</p>"),u.labels=new f([],{github_user_id:"sh19910711",github_repo_name:"js2ch"}),c=u.labels,c.on("sync",function(e){e instanceof s.Collections.Labels&&u.label_category.parse_labels(c);if(e instanceof i.Models.Label)return u.label_category.parse_labels_recursive_func(e.get("name"),e),u.label_category.trigger("parsed")}),setTimeout(function(){var e;if(!l||o.Utils.compare_version(l,h))e=function(){var t;return c.off("sync",e),t=c.map(function(e){var t;return t=new n.Deferred,setTimeout(function(){return e.destroy({success:t.resolve})},0),t.promise()}),n.when.apply(null,t).done(function(){var e,t;return e=[{id:"526b81c305a91451ea000002",name:"report/バグ",color:"fc2929"},{id:"526b81c305a91451ea000003",name:"report/重複",color:"cccccc"},{id:"526b81c305a91451ea000004",name:"work/機能追加",color:"84b6eb"},{id:"526b81c305a91451ea000005",name:"report/質問",color:"cccccc"},{id:"526b81c305a91451ea000006",name:"report/様子見",color:"cccccc"},{id:"526b81c305a91451ea00000e",name:"platform/chromium",color:"e7f7e7"},{id:"526b81c305a91451eb00000e",name:"platform/chromium/google-chrome",color:"e7f7e7"},{id:"526b81c305a91451eb00000g",name:"platform/chromium/chromium",color:"e7f7e7"},{id:"526b81c305a91451ea00000f",name:"platform/node-js",color:"e7f7e7"},{id:"526b81c305a91451ea000011",name:"work/改善",color:"84b6eb"},{id:"526b81c305a91451ea000012",name:"site/2ch",color:"f7e7e7"},{id:"526b81c305a91451ea000015",name:"work/テスト",color:"84b6eb"}],t=function(){return e.length?(c.create(new a(e.shift())),setTimeout(t,250)):localStorage.setItem("mock-version",h)},setTimeout(t,0)})},c.on("sync",e);return c.fetch({cache:!1})},0)},u}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/application/routers/application_router",["underscore","jquery","backbone","app/common","app/page","app/mock"],function(e,n,r,i,s,o){var u,a;return u=function(e){function r(){return a=r.__super__.constructor.apply(this,arguments),a}return t(r,e),r.prototype.initialize=function(e){var t=this;return this.page_view=void 0,this.container_id="#container_id",this.side_id="#side_id",i.Utils.get_root().api_url_prefix="",n(document).on("click","a.pjaxable",function(e){return t.navigate(n(e.target).attr("href"),!0),!1})},r.prototype.routes={"":"show_index",about:"show_about",version:"show_version",repos:"show_repos","repos/:github_user_id/:github_repo_name":"show_repo",user_status:"show_user_status","MIT-LICENSE.:suffix":"show_mit_license",demo:"show_repo_mock"},r.prototype.show_index=function(){return this.load_contents("/")},r.prototype.show_about=function(){return this.load_contents("/about")},r.prototype.show_version=function(){return this.load_contents("/version")},r.prototype.show_user_status=function(){return this.load_contents("/user_status")},r.prototype.show_mit_license=function(e){return this.load_contents("/MIT-LICENSE."+e)},r.prototype.show_repos=function(){return this.page_view=new s.Views.UserReposView({repositories:{github_user_id:i.Utils.get_login_user().github_user_id}}),this.load_contents("/repos")},r.prototype.show_repo=function(e,t){return this.page_view=new s.Views.UserRepoView({labels:{github_user_id:e,github_repo_name:t}}),this.load_contents("/repos/"+e+"/"+t)},r.prototype.show_repo_mock=function(){return this.page_view=new s.Views.UserRepoView({labels:{github_user_id:"sh19910711",github_repo_name:"js2ch"}}),o.init(this.page_view),this.load_contents("/demo")},r.prototype.load_contents=function(e){var t=this;return n.pjax({url:e,container:"#container"}).always(function(){if(t.page_view!=null)return n("#page-view").append(t.page_view.el),t.page_view.render()})},r}(r.Router)})}.call(this),function(){define("app/application/routers",["./routers/application_router"],function(e){var t;return t=function(){function t(){}return t.ApplicationRouter=e,t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("app/application/views/application_view",["underscore","jquery","backbone","app/common"],function(e,n,r,i){var s,o;return s=function(r){function i(){return o=i.__super__.constructor.apply(this,arguments),o}return t(i,r),i.prototype.el="#application-view",i.prototype.initialize=function(){return e.bindAll(this,"render")},i.prototype.render=function(){return n(this.el).removeClass("view").addClass("view"),n(this.el).removeClass("application-view").addClass("application-view"),this},i}(r.View)})}.call(this),function(){define("app/application/views",["./views/application_view"],function(e){var t;return t=function(){function t(){}return t.ApplicationView=e,t}()})}.call(this),function(){define("app/application",["./application/routers","./application/views"],function(e,t){var n;return n=function(){function n(){}return n.Routers=e,n.Views=t,n}()})}.call(this),function(){requirejs.config({baseUrl:"/lib"}),requirejs(["app/js/config"],function(){return requirejs(["underscore","jquery","backbone","app/application","app/common","com/bootstrap/bootstrap","com/backbone/backbone-localstorage","com/backbone/backbone-fetch-cache","com/jquery/jquery.pjax"],function(e,t,n,r,i){return t.ajaxPrefilter(function(t){var n;if(t.type==="POST"||t.type==="PUT"||t.type==="DELETE")return t.data==null&&(t.data="{}"),n=JSON.parse(t.data),e(n).extend({csrf_token:i.Utils.get_csrf_token()}),t.data=JSON.stringify(n)}),t(function(){var e;return n.fetchCache.getCacheKey=function(e,t){var n;return n=e.constructor.name,e.github_user_id!=null&&(n+=":"+e.github_user_id),e.github_repo_name!=null&&(n+=":"+e.github_repo_name),n},e={router:new r.Routers.ApplicationRouter},n.history.start({pushState:!0})})})})}.call(this),define("app/main",function(){});